/**
 * bootstrap-datepicker.js
 * Repo: https://github.com/eternicode/bootstrap-datepicker/
 * Started by Stefan Petre; improvements by Andrew Rowls + contributors
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * http://www.apache.org/licenses/LICENSE-2.0
 **/
(function($,n){var q=$(window);function UTCDate(){return new Date(Date.UTC.apply(Date,arguments))}function UTCToday(){var a=new Date();return UTCDate(a.getFullYear(),a.getMonth(),a.getDate())}function alias(a){return function(){return this[a].apply(this,arguments)}}var r=(function(){var b={get:function(i){return this.slice(i)[0]},contains:function(d){var a=d&&d.valueOf();for(var i=0,l=this.length;i<l;i++)if(this[i].valueOf()===a)return i;return-1},remove:function(i){this.splice(i,1)},replace:function(a){if(!a)return;if(!$.isArray(a))a=[a];this.clear();this.push.apply(this,a)},clear:function(){this.splice(0)},copy:function(){var a=new r();a.replace(this);return a}};return function(){var a=[];a.push.apply(a,arguments);$.extend(a,b);return a}})();var t=function(b,c){this.dates=new r();this.viewDate=UTCToday();this.focusDate=null;this._process_options(c);this.element=$(b);this.isInline=false;this.isInput=this.element.is('input');this.component=this.element.is('.date')?this.element.find('.add-on, .input-group-addon, .btn'):false;this.hasInput=this.component&&this.element.find('input').length;if(this.component&&this.component.length===0)this.component=false;this.picker=$(A.template);this._buildEvents();this._attachEvents();if(this.isInline){this.picker.addClass('datepicker-inline').appendTo(this.element)}else{this.picker.addClass('datepicker-dropdown dropdown-menu')}if(this.o.rtl){this.picker.addClass('datepicker-rtl')}this.viewMode=this.o.startView;if(this.o.calendarWeeks)this.picker.find('tfoot th.today').attr('colspan',function(i,a){return parseInt(a)+1});this._allow_update=false;this.setStartDate(this._o.startDate);this.setEndDate(this._o.endDate);this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled);this.fillDow();this.fillMonths();this._allow_update=true;this.update();this.showMode();if(this.isInline){this.show()}};t.prototype={constructor:t,_process_options:function(b){this._o=$.extend({},this._o,b);var o=this.o=$.extend({},this._o);var c=o.language;if(!z[c]){c=c.split('-')[0];if(!z[c])c=x.language}o.language=c;switch(o.startView){case 2:case'decade':o.startView=2;break;case 1:case'year':o.startView=1;break;default:o.startView=0}switch(o.minViewMode){case 1:case'months':o.minViewMode=1;break;case 2:case'years':o.minViewMode=2;break;default:o.minViewMode=0}o.startView=Math.max(o.startView,o.minViewMode);if(o.multidate!==true){o.multidate=Number(o.multidate)||false;if(o.multidate!==false)o.multidate=Math.max(0,o.multidate);else o.multidate=1}o.multidateSeparator=String(o.multidateSeparator);o.weekStart%=7;o.weekEnd=((o.weekStart+6)%7);var e=A.parseFormat(o.format);if(o.startDate!==-Infinity){if(!!o.startDate){if(o.startDate instanceof Date)o.startDate=this._local_to_utc(this._zero_time(o.startDate));else o.startDate=A.parseDate(o.startDate,e,o.language)}else{o.startDate=-Infinity}}if(o.endDate!==Infinity){if(!!o.endDate){if(o.endDate instanceof Date)o.endDate=this._local_to_utc(this._zero_time(o.endDate));else o.endDate=A.parseDate(o.endDate,e,o.language)}else{o.endDate=Infinity}}o.daysOfWeekDisabled=o.daysOfWeekDisabled||[];if(!$.isArray(o.daysOfWeekDisabled))o.daysOfWeekDisabled=o.daysOfWeekDisabled.split(/[,\s]*/);o.daysOfWeekDisabled=$.map(o.daysOfWeekDisabled,function(d){return parseInt(d,10)});var f=String(o.orientation).toLowerCase().split(/\s+/g),_plc=o.orientation.toLowerCase();f=$.grep(f,function(a){return(/^auto|left|right|top|bottom$/).test(a)});o.orientation={x:'auto',y:'auto'};if(!_plc||_plc==='auto');else if(f.length===1){switch(f[0]){case'top':case'bottom':o.orientation.y=f[0];break;case'left':case'right':o.orientation.x=f[0];break}}else{_plc=$.grep(f,function(a){return(/^left|right$/).test(a)});o.orientation.x=_plc[0]||'auto';_plc=$.grep(f,function(a){return(/^top|bottom$/).test(a)});o.orientation.y=_plc[0]||'auto'}},_events:[],_secondaryEvents:[],_applyEvents:function(a){for(var i=0,el,ch,ev;i<a.length;i++){el=a[i][0];if(a[i].length===2){ch=n;ev=a[i][1]}else if(a[i].length===3){ch=a[i][1];ev=a[i][2]}el.on(ev,ch)}},_unapplyEvents:function(a){for(var i=0,el,ev,ch;i<a.length;i++){el=a[i][0];if(a[i].length===2){ch=n;ev=a[i][1]}else if(a[i].length===3){ch=a[i][1];ev=a[i][2]}el.off(ev,ch)}},_buildEvents:function(){if(this.isInput){this._events=[[this.element,{focus:$.proxy(this.show,this),keyup:$.proxy(function(e){if($.inArray(e.keyCode,[27,37,39,38,40,32,13,9])===-1)this.update()},this),keydown:$.proxy(this.keydown,this)}]]}else if(this.component&&this.hasInput){this._events=[[this.element.find('input'),{focus:$.proxy(this.show,this),keyup:$.proxy(function(e){if($.inArray(e.keyCode,[27,37,39,38,40,32,13,9])===-1)this.update()},this),keydown:$.proxy(this.keydown,this)}],[this.component,{click:$.proxy(this.show,this)}]]}else if(this.element.is('div')){this.isInline=true}else{this._events=[[this.element,{click:$.proxy(this.show,this)}]]}this._events.push([this.element,'*',{blur:$.proxy(function(e){this._focused_from=e.target},this)}],[this.element,{blur:$.proxy(function(e){this._focused_from=e.target},this)}]);this._secondaryEvents=[[this.picker,{click:$.proxy(this.click,this)}],[$(window),{resize:$.proxy(this.place,this)}],[$(document),{'mousedown touchstart':$.proxy(function(e){if(!(this.element.is(e.target)||this.element.find(e.target).length||this.picker.is(e.target)||this.picker.find(e.target).length)){this.hide()}},this)}]]},_attachEvents:function(){this._detachEvents();this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents();this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(d,e){var f=e||this.dates.get(-1),local_date=this._utc_to_local(f);this.element.trigger({type:d,date:local_date,dates:$.map(this.dates,this._utc_to_local),format:$.proxy(function(a,b){if(arguments.length===0){a=this.dates.length-1;b=this.o.format}else if(typeof a==='string'){b=a;a=this.dates.length-1}b=b||this.o.format;var c=this.dates.get(a);return A.formatDate(c,b,this.o.language)},this)})},show:function(){if(!this.isInline)this.picker.appendTo('body');this.picker.show();this.place();this._attachSecondaryEvents();this._trigger('show')},hide:function(){if(this.isInline)return;if(!this.picker.is(':visible'))return;this.focusDate=null;this.picker.hide().detach();this._detachSecondaryEvents();this.viewMode=this.o.startView;this.showMode();if(this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find('input').val()))this.setValue();this._trigger('hide')},remove:function(){this.hide();this._detachEvents();this._detachSecondaryEvents();this.picker.remove();delete this.element.data().datepicker;if(!this.isInput){delete this.element.data().date}},_utc_to_local:function(a){return a&&new Date(a.getTime()+(a.getTimezoneOffset()*60000))},_local_to_utc:function(a){return a&&new Date(a.getTime()-(a.getTimezoneOffset()*60000))},_zero_time:function(a){return a&&new Date(a.getFullYear(),a.getMonth(),a.getDate())},_zero_utc_time:function(a){return a&&new Date(Date.UTC(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()))},getDates:function(){return $.map(this.dates,this._utc_to_local)},getUTCDates:function(){return $.map(this.dates,function(d){return new Date(d)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){return new Date(this.dates.get(-1))},setDates:function(){var a=$.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,a);this._trigger('changeDate');this.setValue()},setUTCDates:function(){var a=$.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,$.map(a,this._utc_to_local));this._trigger('changeDate');this.setValue()},setDate:alias('setDates'),setUTCDate:alias('setUTCDates'),setValue:function(){var a=this.getFormattedDate();if(!this.isInput){if(this.component){this.element.find('input').val(a).change()}}else{this.element.val(a).change()}},getFormattedDate:function(a){if(a===n)a=this.o.format;var b=this.o.language;return $.map(this.dates,function(d){return A.formatDate(d,a,b)}).join(this.o.multidateSeparator)},setStartDate:function(a){this._process_options({startDate:a});this.update();this.updateNavArrows()},setEndDate:function(a){this._process_options({endDate:a});this.update();this.updateNavArrows()},setDaysOfWeekDisabled:function(a){this._process_options({daysOfWeekDisabled:a});this.update();this.updateNavArrows()},place:function(){if(this.isInline)return;var a=this.picker.outerWidth(),calendarHeight=this.picker.outerHeight(),visualPadding=10,windowWidth=q.width(),windowHeight=q.height(),scrollTop=q.scrollTop();var b=parseInt(this.element.parents().filter(function(){return $(this).css('z-index')!=='auto'}).first().css('z-index'))+10;var c=this.component?this.component.parent().offset():this.element.offset();var d=this.component?this.component.outerHeight(true):this.element.outerHeight(false);var e=this.component?this.component.outerWidth(true):this.element.outerWidth(false);var f=c.left,top=c.top;this.picker.removeClass('datepicker-orient-top datepicker-orient-bottom '+'datepicker-orient-right datepicker-orient-left');if(this.o.orientation.x!=='auto'){this.picker.addClass('datepicker-orient-'+this.o.orientation.x);if(this.o.orientation.x==='right')f-=a-e}else{this.picker.addClass('datepicker-orient-left');if(c.left<0)f-=c.left-visualPadding;else if(c.left+a>windowWidth)f=windowWidth-a-visualPadding}var g=this.o.orientation.y,top_overflow,bottom_overflow;if(g==='auto'){top_overflow=-scrollTop+c.top-calendarHeight;bottom_overflow=scrollTop+windowHeight-(c.top+d+calendarHeight);if(Math.max(top_overflow,bottom_overflow)===bottom_overflow)g='top';else g='bottom'}this.picker.addClass('datepicker-orient-'+g);if(g==='top')top+=d;else top-=calendarHeight+parseInt(this.picker.css('padding-top'));this.picker.css({top:top,left:f,zIndex:b})},_allow_update:true,update:function(){if(!this._allow_update)return;var b=this.dates.copy(),z=[],fromArgs=false;if(arguments.length){$.each(arguments,$.proxy(function(i,a){if(a instanceof Date)a=this._local_to_utc(a);z.push(a)},this));fromArgs=true}else{z=this.isInput?this.element.val():this.element.data('date')||this.element.find('input').val();if(z&&this.o.multidate)z=z.split(this.o.multidateSeparator);else z=[z];delete this.element.data().date}z=$.map(z,$.proxy(function(a){return A.parseDate(a,this.o.format,this.o.language)},this));z=$.grep(z,$.proxy(function(a){return(a<this.o.startDate||a>this.o.endDate||!a)},this),true);this.dates.replace(z);if(this.dates.length)this.viewDate=new Date(this.dates.get(-1));else if(this.viewDate<this.o.startDate)this.viewDate=new Date(this.o.startDate);else if(this.viewDate>this.o.endDate)this.viewDate=new Date(this.o.endDate);if(fromArgs){this.setValue()}else if(z.length){if(String(b)!==String(this.dates))this._trigger('changeDate')}if(!this.dates.length&&b.length)this._trigger('clearDate');this.fill()},fillDow:function(){var a=this.o.weekStart,html='<tr>';if(this.o.calendarWeeks){var b='<th class="cw">&nbsp;</th>';html+=b;this.picker.find('.datepicker-days thead tr:first-child').prepend(b)}while(a<this.o.weekStart+7){html+='<th class="dow">'+z[this.o.language].daysMin[(a++)%7]+'</th>'}html+='</tr>';this.picker.find('.datepicker-days thead').append(html)},fillMonths:function(){var a='',i=0;while(i<12){a+='<span class="month">'+z[this.o.language].monthsShort[i++]+'</span>'}this.picker.find('.datepicker-months td').html(a)},setRange:function(a){if(!a||!a.length)delete this.range;else this.range=$.map(a,function(d){return d.valueOf()});this.fill()},getClassNames:function(a){var b=[],year=this.viewDate.getUTCFullYear(),month=this.viewDate.getUTCMonth(),today=new Date();if(a.getUTCFullYear()<year||(a.getUTCFullYear()===year&&a.getUTCMonth()<month)){b.push('old')}else if(a.getUTCFullYear()>year||(a.getUTCFullYear()===year&&a.getUTCMonth()>month)){b.push('new')}if(this.focusDate&&a.valueOf()===this.focusDate.valueOf())b.push('focused');if(this.o.todayHighlight&&a.getUTCFullYear()===today.getFullYear()&&a.getUTCMonth()===today.getMonth()&&a.getUTCDate()===today.getDate()){b.push('today')}if(this.dates.contains(a)!==-1)b.push('active');if(a.valueOf()<this.o.startDate||a.valueOf()>this.o.endDate||$.inArray(a.getUTCDay(),this.o.daysOfWeekDisabled)!==-1){b.push('disabled')}if(this.range){if(a>this.range[0]&&a<this.range[this.range.length-1]){b.push('range')}if($.inArray(a.valueOf(),this.range)!==-1){b.push('selected')}}return b},fill:function(){var d=new Date(this.viewDate),year=d.getUTCFullYear(),month=d.getUTCMonth(),startYear=this.o.startDate!==-Infinity?this.o.startDate.getUTCFullYear():-Infinity,startMonth=this.o.startDate!==-Infinity?this.o.startDate.getUTCMonth():-Infinity,endYear=this.o.endDate!==Infinity?this.o.endDate.getUTCFullYear():Infinity,endMonth=this.o.endDate!==Infinity?this.o.endDate.getUTCMonth():Infinity,todaytxt=z[this.o.language].today||z['en'].today||'',cleartxt=z[this.o.language].clear||z['en'].clear||'',tooltip;this.picker.find('.datepicker-days thead th.datepicker-switch').text(z[this.o.language].months[month]+' '+year);this.picker.find('tfoot th.today').text(todaytxt).toggle(this.o.todayBtn!==false);this.picker.find('tfoot th.clear').text(cleartxt).toggle(this.o.clearBtn!==false);this.updateNavArrows();this.fillMonths();var a=UTCDate(year,month-1,28),day=A.getDaysInMonth(a.getUTCFullYear(),a.getUTCMonth());a.setUTCDate(day);a.setUTCDate(day-(a.getUTCDay()-this.o.weekStart+7)%7);var b=new Date(a);b.setUTCDate(b.getUTCDate()+42);b=b.valueOf();var c=[];var e;while(a.valueOf()<b){if(a.getUTCDay()===this.o.weekStart){c.push('<tr>');if(this.o.calendarWeeks){var f=new Date(+a+(this.o.weekStart-a.getUTCDay()-7)%7*864e5),th=new Date(Number(f)+(7+4-f.getUTCDay())%7*864e5),yth=new Date(Number(yth=UTCDate(th.getUTCFullYear(),0,1))+(7+4-yth.getUTCDay())%7*864e5),calWeek=(th-yth)/864e5/7+1;c.push('<td class="cw">'+calWeek+'</td>')}}e=this.getClassNames(a);e.push('day');if(this.o.beforeShowDay!==$.noop){var g=this.o.beforeShowDay(this._utc_to_local(a));if(g===n)g={};else if(typeof(g)==='boolean')g={enabled:g};else if(typeof(g)==='string')g={classes:g};if(g.enabled===false)e.push('disabled');if(g.classes)e=e.concat(g.classes.split(/\s+/));if(g.tooltip)tooltip=g.tooltip}e=$.unique(e);c.push('<td class="'+e.join(' ')+'"'+(tooltip?' title="'+tooltip+'"':'')+'>'+a.getUTCDate()+'</td>');if(a.getUTCDay()===this.o.weekEnd){c.push('</tr>')}a.setUTCDate(a.getUTCDate()+1)}this.picker.find('.datepicker-days tbody').empty().append(c.join(''));var h=this.picker.find('.datepicker-months').find('th:eq(1)').text(year).end().find('span').removeClass('active');$.each(this.dates,function(i,d){if(d.getUTCFullYear()===year)h.eq(d.getUTCMonth()).addClass('active')});if(year<startYear||year>endYear){h.addClass('disabled')}if(year===startYear){h.slice(0,startMonth).addClass('disabled')}if(year===endYear){h.slice(endMonth+1).addClass('disabled')}c='';year=parseInt(year/10,10)*10;var j=this.picker.find('.datepicker-years').find('th:eq(1)').text(year+'-'+(year+9)).end().find('td');year-=1;var k=$.map(this.dates,function(d){return d.getUTCFullYear()}),classes;for(var i=-1;i<11;i++){classes=['year'];if(i===-1)classes.push('old');else if(i===10)classes.push('new');if($.inArray(year,k)!==-1)classes.push('active');if(year<startYear||year>endYear)classes.push('disabled');c+='<span class="'+classes.join(' ')+'">'+year+'</span>';year+=1}j.html(c)},updateNavArrows:function(){if(!this._allow_update)return;var d=new Date(this.viewDate),year=d.getUTCFullYear(),month=d.getUTCMonth();switch(this.viewMode){case 0:if(this.o.startDate!==-Infinity&&year<=this.o.startDate.getUTCFullYear()&&month<=this.o.startDate.getUTCMonth()){this.picker.find('.prev').css({visibility:'hidden'})}else{this.picker.find('.prev').css({visibility:'visible'})}if(this.o.endDate!==Infinity&&year>=this.o.endDate.getUTCFullYear()&&month>=this.o.endDate.getUTCMonth()){this.picker.find('.next').css({visibility:'hidden'})}else{this.picker.find('.next').css({visibility:'visible'})}break;case 1:case 2:if(this.o.startDate!==-Infinity&&year<=this.o.startDate.getUTCFullYear()){this.picker.find('.prev').css({visibility:'hidden'})}else{this.picker.find('.prev').css({visibility:'visible'})}if(this.o.endDate!==Infinity&&year>=this.o.endDate.getUTCFullYear()){this.picker.find('.next').css({visibility:'hidden'})}else{this.picker.find('.next').css({visibility:'visible'})}break}},click:function(e){e.preventDefault();var a=$(e.target).closest('span, td, th'),year,month,day;if(a.length===1){switch(a[0].nodeName.toLowerCase()){case'th':switch(a[0].className){case'datepicker-switch':this.showMode(1);break;case'prev':case'next':var b=A.modes[this.viewMode].navStep*(a[0].className==='prev'?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,b);this._trigger('changeMonth',this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,b);if(this.viewMode===1)this._trigger('changeYear',this.viewDate);break}this.fill();break;case'today':var c=new Date();c=UTCDate(c.getFullYear(),c.getMonth(),c.getDate(),0,0,0);this.showMode(-2);var d=this.o.todayBtn==='linked'?null:'view';this._setDate(c,d);break;case'clear':var f;if(this.isInput)f=this.element;else if(this.component)f=this.element.find('input');if(f)f.val("").change();this.update();this._trigger('changeDate');if(this.o.autoclose)this.hide();break}break;case'span':if(!a.is('.disabled')){this.viewDate.setUTCDate(1);if(a.is('.month')){day=1;month=a.parent().find('span').index(a);year=this.viewDate.getUTCFullYear();this.viewDate.setUTCMonth(month);this._trigger('changeMonth',this.viewDate);if(this.o.minViewMode===1){this._setDate(UTCDate(year,month,day))}}else{day=1;month=0;year=parseInt(a.text(),10)||0;this.viewDate.setUTCFullYear(year);this._trigger('changeYear',this.viewDate);if(this.o.minViewMode===2){this._setDate(UTCDate(year,month,day))}}this.showMode(-1);this.fill()}break;case'td':if(a.is('.day')&&!a.is('.disabled')){day=parseInt(a.text(),10)||1;year=this.viewDate.getUTCFullYear();month=this.viewDate.getUTCMonth();if(a.is('.old')){if(month===0){month=11;year-=1}else{month-=1}}else if(a.is('.new')){if(month===11){month=0;year+=1}else{month+=1}}this._setDate(UTCDate(year,month,day))}break}}if(this.picker.is(':visible')&&this._focused_from){$(this._focused_from).focus()}delete this._focused_from},_toggle_multidate:function(a){var b=this.dates.contains(a);if(!a){this.dates.clear()}else if(b!==-1){this.dates.remove(b)}else{this.dates.push(a)}if(typeof this.o.multidate==='number')while(this.dates.length>this.o.multidate)this.dates.remove(0)},_setDate:function(a,b){if(!b||b==='date')this._toggle_multidate(a&&new Date(a));if(!b||b==='view')this.viewDate=a&&new Date(a);this.fill();this.setValue();this._trigger('changeDate');var c;if(this.isInput){c=this.element}else if(this.component){c=this.element.find('input')}if(c){c.change()}if(this.o.autoclose&&(!b||b==='date')){this.hide()}},moveMonth:function(a,b){if(!a)return n;if(!b)return a;var c=new Date(a.valueOf()),day=c.getUTCDate(),month=c.getUTCMonth(),mag=Math.abs(b),new_month,test;b=b>0?1:-1;if(mag===1){test=b===-1?function(){return c.getUTCMonth()===month}:function(){return c.getUTCMonth()!==new_month};new_month=month+b;c.setUTCMonth(new_month);if(new_month<0||new_month>11)new_month=(new_month+12)%12}else{for(var i=0;i<mag;i++)c=this.moveMonth(c,b);new_month=c.getUTCMonth();c.setUTCDate(day);test=function(){return new_month!==c.getUTCMonth()}}while(test()){c.setUTCDate(--day);c.setUTCMonth(new_month)}return c},moveYear:function(a,b){return this.moveMonth(a,b*12)},dateWithinRange:function(a){return a>=this.o.startDate&&a<=this.o.endDate},keydown:function(e){if(this.picker.is(':not(:visible)')){if(e.keyCode===27)this.show();return}var a=false,dir,newDate,newViewDate,focusDate=this.focusDate||this.viewDate;switch(e.keyCode){case 27:if(this.focusDate){this.focusDate=null;this.viewDate=this.dates.get(-1)||this.viewDate;this.fill()}else this.hide();e.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;dir=e.keyCode===37?-1:1;if(e.ctrlKey){newDate=this.moveYear(this.dates.get(-1)||UTCToday(),dir);newViewDate=this.moveYear(focusDate,dir);this._trigger('changeYear',this.viewDate)}else if(e.shiftKey){newDate=this.moveMonth(this.dates.get(-1)||UTCToday(),dir);newViewDate=this.moveMonth(focusDate,dir);this._trigger('changeMonth',this.viewDate)}else{newDate=new Date(this.dates.get(-1)||UTCToday());newDate.setUTCDate(newDate.getUTCDate()+dir);newViewDate=new Date(focusDate);newViewDate.setUTCDate(focusDate.getUTCDate()+dir)}if(this.dateWithinRange(newDate)){this.focusDate=this.viewDate=newViewDate;this.setValue();this.fill();e.preventDefault()}break;case 38:case 40:if(!this.o.keyboardNavigation)break;dir=e.keyCode===38?-1:1;if(e.ctrlKey){newDate=this.moveYear(this.dates.get(-1)||UTCToday(),dir);newViewDate=this.moveYear(focusDate,dir);this._trigger('changeYear',this.viewDate)}else if(e.shiftKey){newDate=this.moveMonth(this.dates.get(-1)||UTCToday(),dir);newViewDate=this.moveMonth(focusDate,dir);this._trigger('changeMonth',this.viewDate)}else{newDate=new Date(this.dates.get(-1)||UTCToday());newDate.setUTCDate(newDate.getUTCDate()+dir*7);newViewDate=new Date(focusDate);newViewDate.setUTCDate(focusDate.getUTCDate()+dir*7)}if(this.dateWithinRange(newDate)){this.focusDate=this.viewDate=newViewDate;this.setValue();this.fill();e.preventDefault()}break;case 32:break;case 13:focusDate=this.focusDate||this.dates.get(-1)||this.viewDate;this._toggle_multidate(focusDate);a=true;this.focusDate=null;this.viewDate=this.dates.get(-1)||this.viewDate;this.setValue();this.fill();if(this.picker.is(':visible')){e.preventDefault();if(this.o.autoclose)this.hide()}break;case 9:this.focusDate=null;this.viewDate=this.dates.get(-1)||this.viewDate;this.fill();this.hide();break}if(a){if(this.dates.length)this._trigger('changeDate');else this._trigger('clearDate');var b;if(this.isInput){b=this.element}else if(this.component){b=this.element.find('input')}if(b){b.change()}}},showMode:function(a){if(a){this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+a))}this.picker.find('>div').hide().filter('.datepicker-'+A.modes[this.viewMode].clsName).css('display','block');this.updateNavArrows()}};var u=function(a,b){this.element=$(a);this.inputs=$.map(b.inputs,function(i){return i.jquery?i[0]:i});delete b.inputs;$(this.inputs).datepicker(b).bind('changeDate',$.proxy(this.dateUpdated,this));this.pickers=$.map(this.inputs,function(i){return $(i).data('datepicker')});this.updateDates()};u.prototype={updateDates:function(){this.dates=$.map(this.pickers,function(i){return i.getUTCDate()});this.updateRanges()},updateRanges:function(){var a=$.map(this.dates,function(d){return d.valueOf()});$.each(this.pickers,function(i,p){p.setRange(a)})},dateUpdated:function(e){if(this.updating)return;this.updating=true;var a=$(e.target).data('datepicker'),new_date=a.getUTCDate(),i=$.inArray(e.target,this.inputs),l=this.inputs.length;if(i===-1)return;$.each(this.pickers,function(i,p){if(!p.getUTCDate())p.setUTCDate(new_date)});if(new_date<this.dates[i]){while(i>=0&&new_date<this.dates[i]){this.pickers[i--].setUTCDate(new_date)}}else if(new_date>this.dates[i]){while(i<l&&new_date>this.dates[i]){this.pickers[i++].setUTCDate(new_date)}}this.updateDates();delete this.updating},remove:function(){$.map(this.pickers,function(p){p.remove()});delete this.element.data().datepicker}};function opts_from_el(b,c){var d=$(b).data(),out={},inkey,replace=new RegExp('^'+c.toLowerCase()+'([A-Z])');c=new RegExp('^'+c.toLowerCase());function re_lower(_,a){return a.toLowerCase()}for(var e in d)if(c.test(e)){inkey=e.replace(replace,re_lower);out[inkey]=d[e]}return out}function opts_from_locale(a){var b={};if(!z[a]){a=a.split('-')[0];if(!z[a])return}var d=z[a];$.each(y,function(i,k){if(k in d)b[k]=d[k]});return b}var w=$.fn.datepicker;$.fn.datepicker=function(d){var e=Array.apply(null,arguments);e.shift();var f;this.each(function(){var a=$(this),data=a.data('datepicker'),options=typeof d==='object'&&d;if(!data){var b=opts_from_el(this,'date'),xopts=$.extend({},x,b,options),locopts=opts_from_locale(xopts.language),opts=$.extend({},x,locopts,b,options);if(a.is('.input-daterange')||opts.inputs){var c={inputs:opts.inputs||a.find('input').toArray()};a.data('datepicker',(data=new u(this,$.extend(opts,c))))}else{a.data('datepicker',(data=new t(this,opts)))}}if(typeof d==='string'&&typeof data[d]==='function'){f=data[d].apply(data,e);if(f!==n)return false}});if(f!==n)return f;else return this};var x=$.fn.datepicker.defaults={autoclose:false,beforeShowDay:$.noop,calendarWeeks:false,clearBtn:false,daysOfWeekDisabled:[],endDate:Infinity,forceParse:true,format:'mm/dd/yyyy',keyboardNavigation:true,language:'en',minViewMode:0,multidate:false,multidateSeparator:',',orientation:"auto",rtl:false,startDate:-Infinity,startView:0,todayBtn:false,todayHighlight:false,weekStart:0};var y=$.fn.datepicker.locale_opts=['format','rtl','weekStart'];$.fn.datepicker.Constructor=t;var z=$.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}};var A={modes:[{clsName:'days',navFnc:'Month',navStep:1},{clsName:'months',navFnc:'FullYear',navStep:1},{clsName:'years',navFnc:'FullYear',navStep:10}],isLeapYear:function(a){return(((a%4===0)&&(a%100!==0))||(a%400===0))},getDaysInMonth:function(a,b){return[31,(A.isLeapYear(a)?29:28),31,30,31,30,31,31,30,31,30,31][b]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(a){var b=a.replace(this.validParts,'\0').split('\0'),parts=a.match(this.validParts);if(!b||!b.length||!parts||parts.length===0){throw new Error("Invalid date format.");}return{separators:b,parts:parts}},parseDate:function(a,b,c){if(!a)return n;if(a instanceof Date)return a;if(typeof b==='string')b=A.parseFormat(b);var e=/([\-+]\d+)([dmwy])/,parts=a.match(/([\-+]\d+)([dmwy])/g),part,dir,i;if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(a)){a=new Date();for(i=0;i<parts.length;i++){part=e.exec(parts[i]);dir=parseInt(part[1]);switch(part[2]){case'd':a.setUTCDate(a.getUTCDate()+dir);break;case'm':a=t.prototype.moveMonth.call(t.prototype,a,dir);break;case'w':a.setUTCDate(a.getUTCDate()+dir*7);break;case'y':a=t.prototype.moveYear.call(t.prototype,a,dir);break}}return UTCDate(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),0,0,0)}parts=a&&a.match(this.nonpunctuation)||[];a=new Date();var f={},setters_order=['yyyy','yy','M','MM','m','mm','d','dd'],setters_map={yyyy:function(d,v){return d.setUTCFullYear(v)},yy:function(d,v){return d.setUTCFullYear(2000+v)},m:function(d,v){if(isNaN(d))return d;v-=1;while(v<0)v+=12;v%=12;d.setUTCMonth(v);while(d.getUTCMonth()!==v)d.setUTCDate(d.getUTCDate()-1);return d},d:function(d,v){return d.setUTCDate(v)}},val,filtered;setters_map['M']=setters_map['MM']=setters_map['mm']=setters_map['m'];setters_map['dd']=setters_map['d'];a=UTCDate(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0);var g=b.parts.slice();if(parts.length!==g.length){g=$(g).filter(function(i,p){return $.inArray(p,setters_order)!==-1}).toArray()}function match_part(){var m=this.slice(0,parts[i].length),p=parts[i].slice(0,m.length);return m===p}if(parts.length===g.length){var h;for(i=0,h=g.length;i<h;i++){val=parseInt(parts[i],10);part=g[i];if(isNaN(val)){switch(part){case'MM':filtered=$(z[c].months).filter(match_part);val=$.inArray(filtered[0],z[c].months)+1;break;case'M':filtered=$(z[c].monthsShort).filter(match_part);val=$.inArray(filtered[0],z[c].monthsShort)+1;break}}f[part]=val}var j,s;for(i=0;i<setters_order.length;i++){s=setters_order[i];if(s in f&&!isNaN(f[s])){j=new Date(a);setters_map[s](j,f[s]);if(!isNaN(j))a=j}}}return a},formatDate:function(a,b,c){if(!a)return'';if(typeof b==='string')b=A.parseFormat(b);var d={d:a.getUTCDate(),D:z[c].daysShort[a.getUTCDay()],DD:z[c].days[a.getUTCDay()],m:a.getUTCMonth()+1,M:z[c].monthsShort[a.getUTCMonth()],MM:z[c].months[a.getUTCMonth()],yy:a.getUTCFullYear().toString().substring(2),yyyy:a.getUTCFullYear()};d.dd=(d.d<10?'0':'')+d.d;d.mm=(d.m<10?'0':'')+d.m;a=[];var e=$.extend([],b.separators);for(var i=0,cnt=b.parts.length;i<=cnt;i++){if(e.length)a.push(e.shift());a.push(d[b.parts[i]])}return a.join('')},headTemplate:'<thead>'+'<tr>'+'<th class="prev">&laquo;</th>'+'<th colspan="5" class="datepicker-switch"></th>'+'<th class="next">&raquo;</th>'+'</tr>'+'</thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot>'+'<tr>'+'<th colspan="7" class="today"></th>'+'</tr>'+'<tr>'+'<th colspan="7" class="clear"></th>'+'</tr>'+'</tfoot>'};A.template='<div class="datepicker">'+'<div class="datepicker-days">'+'<table class=" table-condensed">'+A.headTemplate+'<tbody></tbody>'+A.footTemplate+'</table>'+'</div>'+'<div class="datepicker-months">'+'<table class="table-condensed">'+A.headTemplate+A.contTemplate+A.footTemplate+'</table>'+'</div>'+'<div class="datepicker-years">'+'<table class="table-condensed">'+A.headTemplate+A.contTemplate+A.footTemplate+'</table>'+'</div>'+'</div>';$.fn.datepicker.DPGlobal=A;$.fn.datepicker.noConflict=function(){$.fn.datepicker=w;return this};$(document).on('focus.datepicker.data-api click.datepicker.data-api','[data-provide="datepicker"]',function(e){var a=$(this);if(a.data('datepicker'))return;e.preventDefault();a.datepicker('show')});$(function(){$('[data-provide="datepicker-inline"]').datepicker()})}(window.jQuery));
/**
 * Italian translation for bootstrap-datepicker
 * Enrico Rubboli <rubboli@gmail.com>
 */
;(function($){$.fn.datepicker.dates['it']={days:["Domenica","Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato","Domenica"],daysShort:["Dom","Lun","Mar","Mer","Gio","Ven","Sab","Dom"],daysMin:["Do","Lu","Ma","Me","Gi","Ve","Sa","Do"],months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],monthsShort:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],today:"Oggi",clear:"Cancella",weekStart:1,format:"dd/mm/yyyy"}}(jQuery));